{{ $monsters := slice }}
{{ $s := newScratch }}
{{ $s.Set "data" dict }}

{{ $monsters := slice }}
{{ $titles := dict 
  "1" "First"
  "2" "Second"
  "3" "Third"
  "4" "Fourth"
  "5" "Fifth"
  "6" "Sixth"
  "7" "Seventh"
  "8" "Eighth"
  "9" "Ninth"
}}
{{ range $round := seq 1 9 }}
{{ with site.Data.monsters }}
  {{ range $entry := . }}
    {{ $svg := partialCached "GetMonsterSVG" .id .id }}
    {{ with $svg }}
      {{ with $entry }}
        {{ $monster := dict
          "id" (print (urlize .name) "-" (string $round))
          "title" (printf "%s the %s" .name (index $titles (string $round)))
          "league" .league
          "spotted" .spotted
          "svg" $svg
          "generation" $round
        }}
        {{ $url := printf "http://asdfast.beobit.net/api/?length=3&v=%s" $entry.id }}
        {{ with resources.GetRemote $url }}
          
          {{ with .Content | unmarshal }}
            {{ with .text }}
              {{ $monster = merge $monster (dict "content" .) }}
            {{ end }}
          {{ end }}
        {{ end }}
        {{ $monsters = $monsters | append $monster }}
      {{ end }}
    {{ end }}
  {{ end }}
{{ end }}
{{ end }}


{{ return $monsters }}